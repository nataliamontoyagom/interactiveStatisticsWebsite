<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Práctica 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-99258d85ffddbd9841977770f8edb96b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="././img/logo.jpeg" alt="" class="navbar-logo light-content">
    <img src="././img/logo.jpeg" alt="" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-prácticas-con-r-y-rstudio" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Prácticas con R y RStudio</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-prácticas-con-r-y-rstudio">    
        <li>
    <a class="dropdown-item" href="./practica1.html">
 <span class="dropdown-text">Práctica 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practica2.html">
 <span class="dropdown-text">Práctica 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practica3.html">
 <span class="dropdown-text">Práctica 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practica4.html">
 <span class="dropdown-text">Práctica 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practica5.html">
 <span class="dropdown-text">Práctica 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./practica6.html">
 <span class="dropdown-text">Práctica 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Sobre mí</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/nataliamontoyagom/interactiveStatisticsWebsite" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#instalación-de-r-y-rstudio" id="toc-instalación-de-r-y-rstudio" class="nav-link" data-scroll-target="#instalación-de-r-y-rstudio">Instalación de R y RStudio</a>
  <ul class="collapse">
  <li><a href="#instalación-de-r" id="toc-instalación-de-r" class="nav-link" data-scroll-target="#instalación-de-r">Instalación de R</a></li>
  <li><a href="#instalación-de-rstudio" id="toc-instalación-de-rstudio" class="nav-link" data-scroll-target="#instalación-de-rstudio">Instalación de RStudio</a></li>
  <li><a href="#referencias-sobre-r-y-rstudio" id="toc-referencias-sobre-r-y-rstudio" class="nav-link" data-scroll-target="#referencias-sobre-r-y-rstudio">Referencias sobre R y RStudio</a></li>
  </ul></li>
  <li><a href="#descripción-de-rstudio" id="toc-descripción-de-rstudio" class="nav-link" data-scroll-target="#descripción-de-rstudio">Descripción de RStudio</a>
  <ul class="collapse">
  <li><a href="#crear-un-archivo-de-texto-para-comandos-en-lenguaje-r" id="toc-crear-un-archivo-de-texto-para-comandos-en-lenguaje-r" class="nav-link" data-scroll-target="#crear-un-archivo-de-texto-para-comandos-en-lenguaje-r">Crear un archivo de texto para comandos en lenguaje R</a></li>
  </ul></li>
  <li><a href="#variables-operadores-comandos-y-funciones" id="toc-variables-operadores-comandos-y-funciones" class="nav-link" data-scroll-target="#variables-operadores-comandos-y-funciones">Variables, operadores, comandos y funciones</a>
  <ul class="collapse">
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a></li>
  <li><a href="#operadores" id="toc-operadores" class="nav-link" data-scroll-target="#operadores">Operadores</a></li>
  <li><a href="#comandos-y-comentarios" id="toc-comandos-y-comentarios" class="nav-link" data-scroll-target="#comandos-y-comentarios">Comandos y comentarios</a></li>
  <li><a href="#funciones" id="toc-funciones" class="nav-link" data-scroll-target="#funciones">Funciones</a></li>
  <li><a href="#creación-de-funciones-propias" id="toc-creación-de-funciones-propias" class="nav-link" data-scroll-target="#creación-de-funciones-propias">Creación de funciones propias</a></li>
  </ul></li>
  <li><a href="#vectores" id="toc-vectores" class="nav-link" data-scroll-target="#vectores">Vectores</a></li>
  <li><a href="#tablas-data.frame" id="toc-tablas-data.frame" class="nav-link" data-scroll-target="#tablas-data.frame">Tablas <em>(data.frame)</em></a></li>
  <li><a href="#archivos-de-datos" id="toc-archivos-de-datos" class="nav-link" data-scroll-target="#archivos-de-datos">Archivos de datos</a></li>
  <li><a href="#gráficos" id="toc-gráficos" class="nav-link" data-scroll-target="#gráficos">Gráficos</a>
  <ul class="collapse">
  <li><a href="#función-plot" id="toc-función-plot" class="nav-link" data-scroll-target="#función-plot">Función <em>plot</em></a></li>
  <li><a href="#función-curve" id="toc-función-curve" class="nav-link" data-scroll-target="#función-curve">Función <em>curve</em></a></li>
  <li><a href="#múltiples-gráficos-función-par" id="toc-múltiples-gráficos-función-par" class="nav-link" data-scroll-target="#múltiples-gráficos-función-par">Múltiples gráficos <em>(función par)</em></a></li>
  </ul></li>
  <li><a href="#ejercicios-propuestos" id="toc-ejercicios-propuestos" class="nav-link" data-scroll-target="#ejercicios-propuestos">Ejercicios propuestos</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Práctica 1</h1>
<p class="subtitle lead">Introducción a R y RStudio</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>Con esta práctica se pretende aprender a usar la herramienta <a href="https://es.wikipedia.org/wiki/RStudio">RStudio</a>, que permite crear proyectos para ejecutar comandos en <a href="https://es.wikipedia.org/wiki/R_(lenguaje_de_programaci%C3%B3n)">lenguaje R</a> para realizar cálculos y generar diagramas.</p>
<p>R es un lenguaje de programación con el que se pueden escribir comandos, también llamados “órdenes”, instrucciones o sentencias, que el ordenador ejecuta; para lo cual es necesario tener instalado un software denominado “R”, disponible para Windows, macOS o Linux.</p>
<p>Para que sea más cómodo crear y ejecutar grupos de comandos R, es recomendable usar una herramienta como RStudio. Se trata de un entorno de desarrollo integrado, que incluye un editor de comandos de R, pero también otras utilidades como una consola de ejecución de comandos, un gestor de archivos del proyecto, una sección para visualizar gráficos, etcétera.</p>
</section>
<section id="instalación-de-r-y-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="instalación-de-r-y-rstudio">Instalación de R y RStudio</h2>
<section id="instalación-de-r" class="level3">
<h3 class="anchored" data-anchor-id="instalación-de-r">Instalación de R</h3>
<p>Para que RStudio funcione, primero hay que instalar el software R, que se descarga desde <a href="https://cran.rediris.es/">cran.rediris.es</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image001.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>En el caso de Windows, se selecciona “install R for the first time”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image002.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="686"></p>
</figure>
</div>
<p>Y se descarga la última versión disponible.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image003.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="394"></p>
</figure>
</div>
<p>Es un archivo .exe, que una vez descargado hay que ejecutar para que se instale.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image004.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>En todas las pantallas que aparezcan se selecciona el botón “Siguiente”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image005.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
</section>
<section id="instalación-de-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="instalación-de-rstudio">Instalación de RStudio</h3>
<p>Una vez instalado R, se puede instalar RStudio Desktop desde <a href="https://posit.co/download/rstudio-desktop/#download">posit.co</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image006.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="586"></p>
</figure>
</div>
<p>En el caso de Windows, descargamos el archivo .exe de la última versión y lo ejecutamos.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image007.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Seleccionamos el botón “Siguiente” en todas las ventanas.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image008.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Existe la opción de utilizar RStudio de forma online sin instalarlo en nuestro ordenador, usando un navegador web. Se trata de <a href="https://posit.cloud/">Posit Cloud</a>, que ofrece una suscripción gratuita con algunas limitaciones.</p>
</section>
<section id="referencias-sobre-r-y-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="referencias-sobre-r-y-rstudio">Referencias sobre R y RStudio</h3>
<ul>
<li><p>Sobre R existen recomendaciones de manuales y documentos de consulta en el propio sitio web del proyecto R:</p>
<ul>
<li><p><a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html">An Introduction to R (R Core Team)</a></p></li>
<li><p><a href="https://cran.r-project.org/doc/contrib/R-intro-1.1.0-espanol.1.pdf">A Spanish translation of “An Introduction to R” (A. González, S. González)</a></p></li>
<li><p><a href="https://cran.r-project.org/other-docs.html">Otras referencias en varios idiomas</a></p></li>
<li><p><a href="https://www.w3schools.com/r/">Tutorial online interactivo (Para practicar con R sin usar RStudio)</a></p></li>
</ul></li>
<li><p>Sobre RStudio se recomiendan las siguientes referencias:</p>
<ul>
<li><p><a href="https://bookdown.org/gboccardo/manual-ED-UCH/uso-basico-de-rstudio.html">Uso básico de RStudio (G. Boccardo, F. Ruiz)</a></p></li>
<li><p><a href="https://www.uv.es/vcoll/primeros-pasos.html#instalar-r-y-rstudio">Primeros pasos con R y RStudio (V. Coll)</a></p></li>
<li><p><a href="https://wpd.ugr.es/~bioestad/guia-r-studio/practica-1-r-studio/">Descripción de RStudio (M. Hidalgo, A. Lara)</a></p></li>
</ul></li>
</ul>
</section>
</section>
<section id="descripción-de-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="descripción-de-rstudio">Descripción de RStudio</h2>
<p>Para ejecutar RStudio, localizamos su icono en el escritorio de nuestro ordenador. No confundir con el icono de R.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image009.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Al abrir RStudio aparece una ventana con diferentes secciones.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image010.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="587"></p>
</figure>
</div>
<p>Debemos crear un nuevo proyecto desde el menú principal de la parte superior de la ventana:</p>
<p><code>File &gt; New Project</code></p>
<p>Y aparece una ventana en la que elegiremos:</p>
<p><code>New Directory &gt; New Project</code></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image011.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="617"></p>
</figure>
</div>
<p>Al elegir esta opción, se nos pide el nombre del directorio (carpeta) del ordenador en el que queremos que se guarde el proyecto. Con el botón “Browse” podemos navegar por el explorador de archivos del ordenador hasta la carpeta que queramos usar para que se cree una subcarpeta para el proyecto.</p>
<p>Por ejemplo, podríamos crear el proyecto en una carpeta P1 para esta práctica, dentro de la carpeta Estadística:</p>
<ul>
<li>Directory name: P1</li>
<li>Create Project as subdirectory of: C:/Estadistica</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image013.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Si la carpeta Estadística no existe en el disco, se crea en el momento de seleccionar el botón “Create Project”. Y aparece en entorno de trabajo de RStudio.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image014.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="539"></p>
</figure>
</div>
<p>Pueden verse tres secciones:</p>
<ol type="1">
<li>Environment: Con las variables y otros recursos usados en el proyecto. De momento no hay nada.</li>
<li>Files: Donde se ve el contenido de la carpeta (directorio) del proyecto. De momento sol hay un archivo llamado “R1.Rproj”.</li>
<li>Console: En esta sección se pueden escribir directamente los comandos en lenguaje R. Podemos probar a escribir una operación matemática como: <code>34+62</code> y vemos que nos responde con el resultado de la suma.</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span> <span class="sc">+</span> <span class="dv">62</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 98</code></pre>
</div>
</div>
<p>Si queremos limpiar la consola, podemos seleccionar el icono con forma de brocha o cepillo.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image016.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="553"></p>
</figure>
</div>
<section id="crear-un-archivo-de-texto-para-comandos-en-lenguaje-r" class="level3">
<h3 class="anchored" data-anchor-id="crear-un-archivo-de-texto-para-comandos-en-lenguaje-r">Crear un archivo de texto para comandos en lenguaje R</h3>
<p>En las prácticas no escribiremos comando u órdenes en lenguaje R directamente en la consola, sino que crearemos previamente un archivo de texto en el que escribiremos las órdenes, una en cada línea, así podemos guardar el trabajo en dicho archivo y recuperarlo en siguientes sesiones.</p>
<p>Para crear un archivo hay que seleccionar:</p>
<p><code>File &gt; New File &gt; R Script</code></p>
<p>Al hacerlo, lo que ocurre es que se crea una nueva sección encima de la consola, que es un editor de texto, en el que se abre el archivo recién creado, cuyo nombre inicial es “Untitled1”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image017.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Para guardar este archivo de texto en la carpeta (directorio) del proyecto hay que seleccionar:</p>
<p><code>File &gt; Save</code></p>
<p>Y se nos pide el nombre para el archivo, y escribimos por ejemplo <code>P1.R</code>. Los archivos de comandos en lenguaje R, deben tener como extensión <code>.R</code> al final del nombre.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image018.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Al hacer esto, en el editor ahora aparece el nombre del archivo. Y el propio archivo podemos verlo en la ventana <code>File</code> del proyecto.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image019.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Ya estamos en condiciones de empezar a escribir comandos R en el archivo de texto, uno por cada línea, por ejemplo, podemos escribir estas dos líneas:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span> <span class="sc">+</span> <span class="dv">62</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 96</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">^</span><span class="dv">2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
</div>
<p>En la primera línea hemos escrito un comando, orden o instrucción para sumar dos números y en la segunda para elevar el número <code>5</code> al cuadrado.</p>
<p>Para ejecutar cada línea hay que posicionar el cursor en esa línea y pulsar <code>Ctrl+Intro</code> en el teclado, o bien el botón <code>Run</code> que aparece en la parte superior derecha del editor. Y el resultado de la ejecución de esa línea debe aparecer en la consola. Si queremos ejecutar de una sola vez varias líneas del archivo de texto, debemos seleccionar todas, y pulsar <code>Ctrl+Intro</code> o bien el botón <code>Run</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image021.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Como se puede observar, delante de cada resultado aparece un número <code>[1]</code>, que de momento podemos ignorar, pues será útil cuando los resultados de un mismo comando ocupen más de una línea, para poder identificar cada una de ellas.</p>
</section>
</section>
<section id="variables-operadores-comandos-y-funciones" class="level2">
<h2 class="anchored" data-anchor-id="variables-operadores-comandos-y-funciones">Variables, operadores, comandos y funciones</h2>
<p>Como en cualquier otro lenguaje de programación como Python, Java, C, JavaScript, etc., en R también se pueden crear variables, y usar operadores y funciones.</p>
<section id="variables" class="level3">
<h3 class="anchored" data-anchor-id="variables">Variables</h3>
<p>Las variables son contenedores de valores. A una variable le podemos asignar un valor, y en aquellos comandos en los que se use la variable, cuando se ejecute será sustituida por su valor.</p>
<p>Para asignar un valor a una variable podemos hacerlo de dos formas, con el operador <code>&lt;-</code> o con el operador <code>=</code>. En esta práctica y en las siguientes usaremos siempre el operador <code>=</code>.</p>
<p>Por ejemplo, podemos crear una variable edad y asignarle un valor <code>12</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">=</span> <span class="dv">12</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>O bien:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">12</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Y después usarla en una expresión como:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>edad <span class="sc">+</span> <span class="dv">100</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 112</code></pre>
</div>
</div>
<p>Para ejecutar estas órdenes desde el archivo de texto “P1.R”, se recuerda que hay que pulsar <code>Ctrl+Intro</code> en cada línea, y el resultado aparece en la consola.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image022.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Cuando creamos variables en un proyecto, aparecen en la sección <code>Environment</code>.</p>
<p>Puede observarse que al asignar un valor a una variable con <code>edad=12</code>, no aparece el resultado en la consola. Si queremos ver el resultado de la asignación en la consola, hay que encerrar la expresión entre paréntesis <code>()</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">edad=</span><span class="dv">12</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image023-024.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="420"></p>
</figure>
</div>
<p>Puede apreciarse que en un caso en la consola no se indica el valor 12 y en el otro sí, aunque en ambos casos el resultado ha sido el mismo, es decir se ha creado la variable en el proyecto, aparece en Environment y se puede usar a partir de ahora en el proyecto.</p>
<ul>
<li>Si se utilizan números con decimales, hay que utilizar el punto “.” Para separar la parte entera de la decimal:</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>precio <span class="ot">=</span> <span class="fl">34.99</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>También se pueden asignar textos a las variables, en este caso deben encerrarse entre comillas dobles o simples:</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>nombre <span class="ot">=</span> <span class="st">"juan perez"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>O bien:</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>nombre <span class="ot">=</span> <span class="st">'juan perez'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image025.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>También se pueden variables que almacenen valores lógicos o booleanos, que pueden ser <code>TRUE</code> o <code>FALSE</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>respuesta <span class="ot">=</span> <span class="cn">FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image026.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Normalmente usamos nombres largos para las funciones, en ese caso se pueden usar símbolos como <code>_</code> o <code>.</code> en el nombre de la función, o una notación “<em>camelcase</em>”, es decir poner en mayúscula la primera letra de cada palabra. Lo habitual en R es usar el separador <code>.</code>. Por ejemplo, algunos nombres válidos podrían ser:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>totaldelafactura <span class="ot">=</span> <span class="fl">25.99</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>TotalDeLaFactura <span class="ot">=</span> <span class="fl">25.99</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>total_de_la_factura <span class="ot">=</span> <span class="fl">25.99</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>total.de.la.factura <span class="ot">=</span> <span class="fl">25.99</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="operadores" class="level3">
<h3 class="anchored" data-anchor-id="operadores">Operadores</h3>
<p>Se pueden utilizar operadores de diferente tipo, como aritméticos y de comparación, entre otros.</p>
<table class="caption-top table">
<caption>Principales operadores aritméticos en R</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 31%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Operador</th>
<th style="text-align: center;">Nombre</th>
<th style="text-align: center;">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">+</td>
<td style="text-align: center;">Suma</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> <span class="sc">+</span> <span class="dv">10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">-</td>
<td style="text-align: center;">Resta</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fl">456.78</span> <span class="sc">-</span> <span class="fl">0.50</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;">*</td>
<td style="text-align: center;">Multiplicación</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">/</td>
<td style="text-align: center;">División</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span> <span class="sc">/</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;">%/%</td>
<td style="text-align: center;">División entera</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span> <span class="sc">%/%</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">%%</td>
<td style="text-align: center;">Resto de un división</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span> <span class="sc">%%</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;">^</td>
<td style="text-align: center;">Potencia</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">^</span> <span class="dv">3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
<p>Con los operadores de comparación se obtiene un resultado <code>TRUE</code> o <code>FALSE</code>.</p>
<table class="caption-top table">
<caption>Principales operadores de comparación en R</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 22%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Operador</th>
<th style="text-align: center;">Nombre</th>
<th style="text-align: center;">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">==</td>
<td style="text-align: center;">Igual</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25" data-results="hold"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">==</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">!=</td>
<td style="text-align: center;">Desigual</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">!=</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;">&gt;</td>
<td style="text-align: center;">Mayor</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">&gt;</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">&gt;=</td>
<td style="text-align: center;">Mayor o igual</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">&gt;=</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;">&lt;</td>
<td style="text-align: center;">Menor</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">&lt;</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;">&lt;=</td>
<td style="text-align: center;">Menor o igual</td>
<td style="text-align: center;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">&lt;=</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
</section>
<section id="comandos-y-comentarios" class="level3">
<h3 class="anchored" data-anchor-id="comandos-y-comentarios">Comandos y comentarios</h3>
<p>Los comandos de R son similares a las órdenes, instrucciones o sentencias de otros lenguajes de programación.</p>
<p>Un grupo de comandos en un archivo <code>.R</code> se puede considerar un programa.</p>
<p>Los comandos se pueden separar con un salto de línea como ya hemos visto, pero también con punto y coma <code>;</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span><span class="sc">+</span><span class="dv">64</span>; <span class="dv">5</span><span class="sc">^</span><span class="dv">2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 98</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25</code></pre>
</div>
</div>
<p>Los comandos se pueden agrupar encerrándolos entre llaves <code>{}</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>{x<span class="ot">=</span><span class="dv">34</span><span class="sc">+</span><span class="dv">62</span>; y<span class="ot">=</span><span class="dv">5</span><span class="sc">^</span><span class="dv">2</span>}; {x<span class="sc">+</span>y}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 121</code></pre>
</div>
</div>
<p>En un archivo <code>.R</code> se pueden incluir comentarios usando el símbolo <code>#</code>. Todo lo que haya a la derecha del símbolo se considera un comentario y no se ejecuta.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de suma</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span><span class="sc">+</span><span class="dv">62</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 96</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100-20</span>  <span class="co">#Ejemplo de resta</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 80</code></pre>
</div>
</div>
</section>
<section id="funciones" class="level3">
<h3 class="anchored" data-anchor-id="funciones">Funciones</h3>
<p>En los comandos se pueden usar funciones predefinidas (built-in) en el propio lenguaje o creadas por desarrolladores y disponibles en librerías que se pueden descargar de Internet.</p>
<p>Cuando se usa una función, el intérprete de R ejecuta las líneas de código que estableció el autor de la función. No necesitamos conocer dicho código, únicamente cuál es el objetivo de la función, los parámetros o argumentos que tenemos que pasar a la función y el tipo de resultado que debe devolver.</p>
<p>Por ejemplo, la función <code>sqrt()</code>:</p>
<table class="caption-top table">
<caption>Ejemplo de una función</caption>
<colgroup>
<col style="width: 32%">
<col style="width: 67%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Función</strong></td>
<td><code>sqrt(x)</code></td>
</tr>
<tr class="even">
<td><strong>Objetivo de la función</strong></td>
<td>Calcular la raíz cuadrada de un número</td>
</tr>
<tr class="odd">
<td><strong>Parámetros o argumentos</strong></td>
<td>x: número real del que se quiere calcular la raíz cuadrada</td>
</tr>
<tr class="even">
<td><strong>Resultado</strong></td>
<td>La raíz cuadrada de x</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>raiz.de.cincuenta <span class="ot">=</span> <span class="fu">sqrt</span>(<span class="dv">50</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>raiz.de.cincuenta</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.071068</code></pre>
</div>
</div>
<section id="funciones-predefinidas" class="level4">
<h4 class="anchored" data-anchor-id="funciones-predefinidas">Funciones predefinidas</h4>
<p>Algunas funciones predefinidas para cálculos aritméticos son las siguientes:</p>
<table class="caption-top table">
<caption>Ejemplos de funciones aritméticas predefinidas en R</caption>
<colgroup>
<col style="width: 19%">
<col style="width: 65%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Función</th>
<th style="text-align: center;">Operación realizada</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>abs(x)</code></td>
<td style="text-align: center;"><p>Valor absoluto de x</p>
<p><span class="math display">\[
|x|
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="sc">-</span><span class="dv">34</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>exp(x)</code></td>
<td style="text-align: center;"><p>Exponencial con base e</p>
<p><span class="math display">\[
e^x
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>log(x)</code></td>
<td style="text-align: center;"><p>Logaritmo neperiano (base e) de x</p>
<p><span class="math display">\[
ln(x)
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">20</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>log10(x)</code></td>
<td style="text-align: center;"><p>Logaritmo natural (base 10) de x</p>
<p><span class="math display">\[
log(x)
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log10</span>(<span class="dv">20</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>sqrt(x)</code></td>
<td style="text-align: center;"><p>Raíz cuadrada de x</p>
<p><span class="math display">\[
\sqrt(x)
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">36</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>factorial(x)</code></td>
<td style="text-align: center;"><p>Factorial de x</p>
<p><span class="math display">\[
x! = 1·2·3·...·x
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">4</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>choose(x,y)</code></td>
<td style="text-align: center;"><p>Número combinatorio</p>
<p><span class="math display">\[
\binom{x}{y} = \frac{x!}{y!(x-y)!}
\]</span></p></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">6</span>,<span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>ceiling(x)</code></td>
<td style="text-align: center;">Primer número entero mayor o igual que x</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ceiling</span>(<span class="dv">45</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ceiling</span>(<span class="fl">45.3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>floor(x)</code></td>
<td style="text-align: center;">Primer número entero menor o igual que x</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">floor</span>(<span class="fl">45.3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>trunc(x)</code></td>
<td style="text-align: center;">Parte entera de x</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">trunc</span>(<span class="fl">3.5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>round(x, digits=n)</code></td>
<td style="text-align: center;">Redondea x con n dígitos decimales</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="dv">43</span><span class="sc">/</span><span class="dv">7</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">43</span><span class="sc">/</span><span class="dv">7</span>, <span class="at">digits=</span><span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code></td>
<td style="text-align: center;">Seno, coseno, tangente de x, con x expresado en radianes. Se puede usar la variable predefinida <span class="math inline">\(\pi\)</span>.</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(pi<span class="sc">/</span><span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
<p>También existen funciones predefinidas para manejar texto (cadenas de caracteres o strings).</p>
<table class="caption-top table">
<caption>Ejemplos de funciones de texto predefinidas en R</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 57%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Función</th>
<th style="text-align: center;">Operación realizada</th>
<th style="text-align: left;">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>toupper(x)</code></td>
<td style="text-align: center;">Convierte a mayúsculas todas las letras del texto contenido en x</td>
<td style="text-align: left;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(<span class="st">"Informática"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>tolower(x)</code></td>
<td style="text-align: center;">Convierte a minúsculas todas las letras del texto contenido en x</td>
<td style="text-align: left;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="st">"SisTEMas"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>paste(x, y, sep=..)</code></td>
<td style="text-align: center;">Concatena el texto de x e y, dejando como texto entre ambos lo que se indique en el parámetro sep</td>
<td style="text-align: left;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Buenos"</span>,<span class="st">"días"</span>,<span class="at">sep=</span><span class="st">""</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Buenos"</span>,<span class="st">"días"</span>,<span class="at">sep=</span><span class="st">" "</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>substr(x, start=.., stop=..)</code></td>
<td style="text-align: center;">Extrae los caracteres de x desde la posición start hasta la posición stop</td>
<td style="text-align: left;"><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">"Informática"</span>, <span class="at">start=</span><span class="dv">3</span>, <span class="at">stop=</span><span class="dv">7</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
<p>Existen algunas otras funciones predefinidas básicas que pueden ser útiles, como las siguientes:</p>
<table class="caption-top table">
<caption>Ejemplos de otras funciones predefinidas en R</caption>
<colgroup>
<col style="width: 10%">
<col style="width: 78%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Función</th>
<th style="text-align: center;">Operación realizada</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>help(“funcion”)</code></td>
<td style="text-align: center;">Muestra la ayuda sobre la función indicada</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">"log"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>rm(x)</code></td>
<td style="text-align: center;">Borra la variable x del proyecto</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>print(expresión)</code></td>
<td style="text-align: center;">Imprime en la consola el resultado de la expresión. En general no es necesario usarla. El efecto es el mismo si se escribe sólo la expresión.</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">+</span> x</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">4</span> <span class="sc">+</span> x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>install.packages("paquete")</code></td>
<td style="text-align: center;">Instala en nuestro ordenador el paquete de funciones llamado “paquete”</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"gtools"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>library(libreria)</code></td>
<td style="text-align: center;">Activa, para poder usarse en el proyecto actual, el paquete indicado</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtools)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>detach(“package:paquete”)</code></td>
<td style="text-align: center;">Desactiva el paquete en el proyecto actual y ya no se puede usar</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:gtools"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>remove.packages(“paquete”)</code></td>
<td style="text-align: center;">Elimina de nuestro ordenador el paquete de funciones llamado “paquete”</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">remove.packages</span>(<span class="st">"gtools"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>getwd()</code></td>
<td style="text-align: center;">Obtiene el directorio (carpeta) de trabajo del proyecto actual</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>setwd("directorio")</code></td>
<td style="text-align: center;">Establece como directorio (carpeta) de trabajo el indicado como parámetro</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Estadistica/P1b"</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>source ("archivo.R")</code></td>
<td style="text-align: center;">Ejecuta en el proyecto actual el código contenido en “archivo.R”. Si no se indica la ruta del archivo, se supone que está en el directorio de trabajo actual</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"c:\curso</span><span class="sc">\e</span><span class="st">jemplo.R"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>options(scipen = dígitos)</code></td>
<td style="text-align: center;">Establece que aquellos resultados que tengan un número de dígitos inferior al indicado, se representen con notación fija, y no con notación científica que utiliza un formato de un valor multiplicado por 10 elevado a un exponente.</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
</section>
<section id="funciones-importadas-de-librerías" class="level4">
<h4 class="anchored" data-anchor-id="funciones-importadas-de-librerías">Funciones importadas de librerías</h4>
<p>Con las funciones <code>install.package</code> y luego <code>library</code> podemos importar librerías de funciones contenidas en paquetes públicos.</p>
<p>Existen miles de paquetes en <a href="https://cran.r-project.org/web/packages/">r-project.org</a>. Por ejemplo, se puede descargar el paquete <a href="https://cran.r-project.org/web/packages/toOrdinal/index.html">toOrdinal</a>.</p>
<p>Según su documentación, este paquete ofrece una función para hacer conversiones de números cardinales a ordinales.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"toOrdinal"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>A continuación, se ejecuta el comando <code>library</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(toOrdinal)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Y ya se puede usar:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toOrdinal</span>(<span class="dv">55</span>, <span class="at">language=</span><span class="st">"English"</span>)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">toOrdinal</span>(<span class="dv">55</span>, <span class="at">language=</span><span class="st">"Spanish"</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">toOrdinal</span>(<span class="dv">55</span>, <span class="at">language=</span><span class="st">"French"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Si hemos instalado varios paquetes que tienen funciones con el mismo nombre, para diferenciarlas, se puede poner delante de la función el nombre del paquete librería seguido de <code>::</code>. Por ejemplo:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>toOrdinal<span class="sc">::</span><span class="fu">toOrdinal</span>(<span class="dv">55</span>, <span class="at">language=</span><span class="st">"English"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>El comando contrario a library, que sirve para eliminar un paquete del proyecto actual es <code>detach</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:toOrdinal"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Y el contrario a <code>install.packages</code>, para eliminar un paquete del ordenador es <code>remove.packages</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">remove.packages</span>(<span class="st">"toOrdinal"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="creación-de-funciones-propias" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-funciones-propias">Creación de funciones propias</h3>
<p>Podemos crear nuestras propias funciones, para después usarlas en el proyecto en el que estemos trabajando, o en otros proyectos.</p>
<pre><code>nombre = function(parámetros) {
  Contenido de la función
}</code></pre>
<p>Por ejemplo, podemos crear una función para sumar dos números.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>sumar <span class="ot">=</span> <span class="cf">function</span>(x,y) {   </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x<span class="sc">+</span>y) </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Las funciones que hemos creado en el proyecto aparecen en la sección <code>Environment &gt; Functions</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image030.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>A partir de ahora podemos usar nuestra función de la forma habitual. Algunos ejemplos de uso pueden ser:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sumar</span>(<span class="dv">4</span>,<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">10</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sumar</span>(<span class="dv">30</span>,a)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>z<span class="ot">=</span><span class="dv">4</span><span class="sc">*</span><span class="fu">sumar</span>(<span class="dv">5</span>,<span class="dv">5</span>)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40</code></pre>
</div>
</div>
<p>Si queremos compartir nuestra función con otros desarrolladores, podemos guardar su código en un archivo <code>.R</code> y enviarlo a los posibles interesados, para que lo incorporen a su proyecto usando la función <code>source(“archivo.R”)</code>.</p>
</section>
</section>
<section id="vectores" class="level2">
<h2 class="anchored" data-anchor-id="vectores">Vectores</h2>
<p>Los vectores son colecciones ordenadas de números, caracteres o valores lógicos. Se crean mediante la función predefinida <code>c()</code>.</p>
<p>Por ejemplo, podemos crear las siguientes variables de tipo vector:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>ejemplo <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">34.6</span>, <span class="dv">100</span>, <span class="fl">67.2</span>, <span class="dv">55</span>, <span class="sc">-</span><span class="fl">8.4</span>, <span class="dv">0</span>, <span class="fl">0.5</span>)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>personas <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ana"</span>, <span class="st">"Juan"</span>, <span class="st">"Elena"</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>respuestas <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Para ver su valor escribimos el nombre de la variable en la consola:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>ejemplo</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  34.6 100.0  67.2  55.0  -8.4   0.0   0.5</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ana"   "Juan"  "Elena"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>respuestas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE FALSE</code></pre>
</div>
</div>
<p>Algunos operadores y funciones para usar con vectores son los siguientes:</p>
<table class="caption-top table">
<caption>Operadores y funciones con vectores en R</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 69%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Operador o función</th>
<th style="text-align: center;">Operación realizada</th>
<th>Ejemplos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>v = c(n1,n2,n3)</code></td>
<td style="text-align: center;">Crea un vector con los elementos <code>n1</code>, <code>n2</code>, <code>n3</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>valores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>inicio:fin</code></td>
<td style="text-align: center;">Crea un vector como secuencia de número comenzando por <code>inicio</code> hasta <code>fin</code> y sumando una unidad para obtener el siguiente elemento del vector. Se puede comenzar con un número decimal</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>numeros <span class="ot">=</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>numeros</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>num <span class="ot">=</span> <span class="fl">4.3</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>num</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>sample(inicio:fin, n)</code></td>
<td style="text-align: center;">Crea un vector de n números elegidos aleatoriamente entre los valores <code>inicio</code> y <code>fin</code>. Se puede añadir el parámetro <code>replace=TRUE</code> para indicar que se admiten números repetidos</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>num</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>num <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="at">replace=</span><span class="cn">TRUE</span>)</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>num</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>v[i]</code></td>
<td style="text-align: center;">Obtiene el valor del elemento que ocupa la posición <code>i</code> en el vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>segundo<span class="ot">=</span>valores[<span class="dv">2</span>]</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>segundo</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>v[c(i,j,k)]</code></td>
<td style="text-align: center;">Obtiene un vector con los elementos del vector <code>v</code> que están en las posiciones <code>i</code>, <code>j</code> y <code>k</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>otro<span class="ot">=</span>valores[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>otro</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>v[c(-i,-j,-k)]</code></td>
<td style="text-align: center;">Obtiene un vector con todos los elementos del vector <code>v</code> menos los que están en las posiciones <code>i</code>, <code>j</code> y <code>k</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>sin<span class="ot">=</span>valores[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">4</span>)]</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>sin</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>v[i]=valor</code></td>
<td style="text-align: center;">Modifica el elemento de la posición <code>i</code> del vector <code>v</code> por el valor indicado</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>valores[<span class="dv">2</span>]<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>valores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>v[condición]</code></td>
<td style="text-align: center;">Obtiene un vector con los datos del vector <code>v</code> que cumplen la condición</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>valores[valores<span class="sc">&lt;=</span><span class="dv">1</span>]</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>valores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>length(v)</code></td>
<td style="text-align: center;">Obtiene la longitud o número de elementos del vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>personas <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Ana"</span>, <span class="st">"Juan"</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(personas)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>min(v)</code></td>
<td style="text-align: center;">Obtiene el elemento del vector <code>v</code> con el menor valor</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(valores)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>max(v)</code></td>
<td style="text-align: center;">Obtiene el elemento del vector <code>v</code> con el mayor valor</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(valores)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>sort(v)</code></td>
<td style="text-align: center;">Obtiene un vector que es el vector <code>v</code> ordenado de menos a mayor. No modifica el contenido del vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>valores<span class="ot">=</span><span class="fu">c</span>(<span class="dv">45</span>,<span class="dv">32</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>ordenado <span class="ot">=</span> <span class="fu">sort</span>(valores)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>ordenado</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>sum(v)</code></td>
<td style="text-align: center;">Obtiene la suma de todos los elementos del vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>prod(v)</code></td>
<td style="text-align: center;">Obtiene el producto de todos los elementos del vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prod</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>cumsum(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada elemento es la suma acumulada hasta ese elemento en el vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cumsum</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>cumprod(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada elemento es el producto acumulado hasta ese elemento en el vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cumprod</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>cummin(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada elemento es el mínimo de los elementos hasta ese elemento en el vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cummin</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>cummax(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada elemento es el máximo de los elementos hasta ese elemento en el vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cummax</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>diff(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada elemento es la diferencia entre un elemento del vector <code>v</code> y el elemento anterior a aquel</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">100</span>)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>rep(v, each=n)</code></td>
<td style="text-align: center;">Obtiene un vector que es como el vector <code>v</code> pero repitiendo <code>n</code> veces casa uno de sus elementos</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>repetido<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="at">each=</span><span class="dv">3</span>)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>repetido</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>rep(v, times=n)</code></td>
<td style="text-align: center;">Obtiene un vector que es como el vector <code>v</code> pero repitiendo su contenido <code>n</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>repe<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="at">times=</span><span class="dv">3</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>repe</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>rep(v, times=c(i,j,k))</code></td>
<td style="text-align: center;">Obtiene un vector que es como el vector <code>v</code> pero repitiendo su primer elemento <code>i</code> veces, el segundo <code>j</code> veces y el tercero <code>k</code> veces</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>repe2<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="at">times=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>repe2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>seq(from=n, to=m, by=s)</code></td>
<td style="text-align: center;">Obtiene un vector con un elemento inicial <code>n</code> hasta un elemento final <code>m</code> incrementando cada uno un valor <code>s</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">4</span>,<span class="at">to=</span><span class="dv">11</span>,<span class="at">by=</span><span class="dv">2</span>)</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">4</span>,<span class="at">to=</span><span class="dv">7</span>,<span class="at">by=</span><span class="fl">0.7</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>unique(v)</code></td>
<td style="text-align: center;">Obtiene un vector como <code>v</code> pero dejando sólo una vez los elementos repetidos</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">7</span>,<span class="dv">7</span>)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>match(v1,v2)</code></td>
<td style="text-align: center;">Obtiene un vector con las posiciones que los valores del vector <code>v1</code> ocupan en el vector <code>v2</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>v1<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">7</span>,<span class="dv">7</span>)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>v2<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">7</span>)</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="fu">match</span>(v1,v2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>tabulate(v)</code></td>
<td style="text-align: center;">Obtiene un vector en el que cada valor indica el número de veces que aparece cada elemento diferente del vector <code>v</code></td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tabulate</span>(v)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>sample(v, n, replace=FALSE, prob=NULL)</code></td>
<td style="text-align: center;">Obtiene un vector con una muestra aleatoria con n valores del vector <code>v</code>, con o sin reemplazamiento</td>
<td><div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>v<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(v,<span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></td>
</tr>
</tbody>
</table>
<p>Cuando se realizan operaciones aritméticas con vectores, estas operaciones se realizan elemento a elemento, como puede comprobarse en los siguientes ejemplos:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">*</span>x</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20 40 60 80</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>x<span class="dv">-10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0 10 20 30</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span><span class="dv">2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  100  400  900 1600</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">+</span>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11 22 33 44</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">-</span>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 18 27 36</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">*</span>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  10  40  90 160</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">/</span>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 10 10 10</code></pre>
</div>
</div>
<p>En el caso de vectores de caracteres se puede usar la función <code>paste()</code> para combinar los elementos:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>nombres<span class="ot">=</span><span class="fu">c</span>(<span class="st">"Juan"</span>, <span class="st">"Ana"</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>apellidos<span class="ot">=</span><span class="fu">c</span>(<span class="st">"Perez"</span>, <span class="st">"Garcia"</span>)</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(nombres,apellidos)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Juan Perez" "Ana Garcia"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(nombres,apellidos,<span class="at">sep=</span><span class="st">","</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Juan,Perez" "Ana,Garcia"</code></pre>
</div>
</div>
<p>También se pueden usar números, que se transforman a caracteres:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(nombres, <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">200</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Juan 100" "Ana 200" </code></pre>
</div>
</div>
</section>
<section id="tablas-data.frame" class="level2">
<h2 class="anchored" data-anchor-id="tablas-data.frame">Tablas <em>(data.frame)</em></h2>
<p>Las tablas son estructuras de datos con filas y columnas, en las que cada columna tiene un título o cabecera, y todos los elementos de una misma columna son del mismo tipo. Cada columna se trata como un vector.</p>
<p>Una tabla puede crearse con la función predefinida <code>data.frame</code>. Para crear un <code>data.frame</code> en R se utiliza la siguiente sintaxis:</p>
<pre><code>tabla = data.frame (
  columna1 = vector1,
  columna2 = vector2,
  columna3 = vector3
)</code></pre>
<p>Un ejemplo podría ser:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>personas <span class="ot">=</span> <span class="fu">data.frame</span> (</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">nombre =</span> <span class="fu">c</span>(<span class="st">"Juan"</span>, <span class="st">"Ana"</span>, <span class="st">"Elena"</span>, <span class="st">"Jose"</span>),</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">apellido =</span> <span class="fu">c</span>(<span class="st">"Perez"</span>, <span class="st">"Garcia"</span>, <span class="st">"Lopez"</span>, <span class="st">"Garcia"</span>),</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">edad =</span> <span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">33</span>,<span class="dv">30</span>,<span class="dv">25</span>)</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Si visualizamos en la consola el valor de la variable personas:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1   Juan    Perez   25
2    Ana   Garcia   33
3  Elena    Lopez   30
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>Se puede mostrar la tabla en RStudio con un formato más amigable usando la función <code>View</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(personas)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image031.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="330"></p>
</figure>
</div>
<p>Las columnas son realmente vectores, y se pueden obtener todos los datos de una columna de tres formas:</p>
<ol type="1">
<li>Usando el nombre de la tabla, el símbolo <code>$</code> y el nombre de la columna.</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>años<span class="ot">=</span>personas<span class="sc">$</span>edad</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>años</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25 33 30 25</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Usando el nombre de la tabla y el nombre de la columna entre <code>[[ ]]</code>.</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>años<span class="ot">=</span>personas[[<span class="st">"edad"</span>]]</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>años</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25 33 30 25</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Usando el nombre de la tabla y el número de la columna entre <code>[ ]</code>.</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>años<span class="ot">=</span>personas[<span class="dv">3</span>]</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>años</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  edad
1   25
2   33
3   30
4   25</code></pre>
</div>
</div>
<p>En este tercer caso en la consola se muestra de otra forma, pero es un vector como en los casos anteriores.</p>
<p>NOTA: Es posible crear tablas usando la función <code>data.table()</code>, pero para ello hay que instalar el paquete <code>data.table</code>. Ambas funciones son similares, aunque <code>data.table</code> tiene algunas ventajas como la velocidad al procesar grandes volúmenes de datos. Para comenzar a trabajar con R, se suele recomendar primero usar <code>data.frame</code>.</p>
<p>Se puede acceder a una fila de una tabla con <code>tabla[fila,]</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>personas[<span class="dv">2</span>,]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
2    Ana   Garcia   33</code></pre>
</div>
</div>
<p>O a una celda, indicando fila y columna con <code>tabla[fila,columna]</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>personas[<span class="dv">2</span>,<span class="dv">3</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
</div>
<p>A partir de una tabla se puede obtener otra sólo con las filas que cumplan una condición con <code>tabla[condición]</code>. Por ejemplo, con las personas que se apelliden “Garcia”:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>personas.garcia <span class="ot">=</span> personas[personas<span class="sc">$</span>apellido<span class="sc">==</span><span class="st">"Garcia"</span>,]</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>personas.garcia</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
2    Ana   Garcia   33
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>O por ejemplo con las personas que tengan más de 26 años:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>mayores <span class="ot">=</span> personas[personas<span class="sc">$</span>edad<span class="sc">&gt;</span><span class="dv">26</span>,]</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>mayores</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
2    Ana   Garcia   33
3  Elena    Lopez   30</code></pre>
</div>
</div>
<p>La condición se puede utilizar para obtener una muestra aleatoria de filas de la tabla, usando la función <code>sample</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>muestra<span class="ot">=</span>personas[<span class="fu">sample</span>(<span class="fu">nrow</span>(personas), <span class="at">size=</span><span class="dv">2</span>),]</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>muestra</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1   Juan    Perez   25
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>Se puede modificar el valor de un dato en una tabla identificando su fila y columna con <code>tabla[fila,columna]</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1   Juan    Perez   25
2    Ana   Garcia   33
3  Elena    Lopez   30
4   Jose   Garcia   25</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>personas[<span class="dv">2</span>,<span class="dv">3</span>]<span class="ot">=</span><span class="dv">34</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1   Juan    Perez   25
2    Ana   Garcia   34
3  Elena    Lopez   30
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>Se puede modificar una fila completa, mediante la notación <code>tabla[fila,]=list(valores)</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>personas[<span class="dv">1</span>,]<span class="ot">=</span><span class="fu">list</span>(<span class="st">"Pedro"</span>,<span class="st">"Herrero"</span>,<span class="dv">20</span>)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1  Pedro  Herrero   20
2    Ana   Garcia   34
3  Elena    Lopez   30
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>Se puede eliminar una fila mediante la notación <code>tabla[-fila,]</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>personas<span class="ot">=</span>personas[<span class="sc">-</span><span class="dv">2</span>,]</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre apellido edad
1  Pedro  Herrero   20
3  Elena    Lopez   30
4   Jose   Garcia   25</code></pre>
</div>
</div>
<p>Se puede añadir una nueva fila al final de un tabla usando la función <code>rbind()</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>personas<span class="ot">=</span><span class="fu">rbind</span>(personas,<span class="fu">list</span>(<span class="st">"María"</span>,<span class="st">"Gutierrez"</span>, <span class="dv">40</span>))</span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   nombre  apellido edad
1   Pedro   Herrero   20
3   Elena     Lopez   30
4    Jose    Garcia   25
11  María Gutierrez   40</code></pre>
</div>
</div>
<p>Se puede eliminar una columna de una tabla usando la notación <code>tabla[,-columna]</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>personas <span class="ot">=</span> personas[,<span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   nombre  apellido
1   Pedro   Herrero
3   Elena     Lopez
4    Jose    Garcia
11  María Gutierrez</code></pre>
</div>
</div>
<p>Se puede añadir una nueva columna a la derecha de la tabla usando la función cbind():</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>nota<span class="ot">=</span><span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">10</span>,<span class="dv">5</span>,<span class="dv">9</span>)</span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>personas<span class="ot">=</span><span class="fu">cbind</span>(personas,nota)</span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>personas</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   nombre  apellido nota
1   Pedro   Herrero    6
3   Elena     Lopez   10
4    Jose    Garcia    5
11  María Gutierrez    9</code></pre>
</div>
</div>
</section>
<section id="archivos-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="archivos-de-datos">Archivos de datos</h2>
<p>Cuando se utiliza R para realizar cálculos estadísticos, se suelen leer los datos desde el archivo en el que estén almacenados. Uno de los formatos que más se utiliza es CSV (Comma Separated Values). Un archivo <code>csv</code> puede generarse desde un programa de edición de hojas de cálculo, como Excel, LibreOffice, o Google Sheets.</p>
<p>En los siguientes sitios web podemos encontrar miles de archivos <code>csv</code> con datos reales:</p>
<ul>
<li><a href="https://datos.gob.es/es/">datos.gob.es</a>: Datos abiertos sobre servicios públicos en España</li>
<li><a href="https://data.europa.eu/es">data.europa.eu</a>: Datos abiertos sobre la Unión Europea</li>
</ul>
<p>En estas prácticas se usarán sólo archivos <code>.csv</code>.</p>
<p>Para leer el contenido de un archivo <code>.csv</code> y almacenarlo en una tabla de tipo <code>data.frame</code> se utiliza la función <code>read.csv2()</code>.</p>
<pre><code>tabla = read.csv2(“archivo.csv”)</code></pre>
<p>Esta función considera que, en el archivo, las columnas se separan con <code>;</code> y los números con parte decimal usan el carácter <code>,</code> como separador. Si usáramos un archivo de datos generado en un ordenador configurado para idioma inglés, habría que utilizar la función <code>read.csv()</code>, que considera que las columnas están separadas por <code>,</code> y el separado de decimales usado en el archivo es <code>.</code>.</p>
<p>NOTA: Aunque en el archivo de datos el separador decimal sea <code>,</code>, una vez leídos los datos y cargados en la variable del proyecto de R, hay que usar en los comandos R el separador <code>.</code>, como se ha hecho en los apartados anteriores.</p>
<p>Para probar con un archivo de ejemplo, vamos a descargar el archivo <a href="https://hilera.web.uah.es/estadistica/r/datos/futbol.csv">futbol.csv</a> que contiene datos sobre equipos de fútbol.</p>
<p>El archivo descargado hay que guardarlo en la carpeta del nuestro proyecto P1 de RStudio. Para recordar cuál es nuestra carpeta o directorio de trabajo (working directory) se puede usar la función <code>getwd()</code> de R.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/adminadmin/projects/interactiveStatisticsWebsite"</code></pre>
</div>
</div>
<p>Cada uno habrá obtenido la ubicación de su proyecto, y es en esa carpeta donde hay que guardar el archivo descargado, que debe aparecer en la sección <code>Files</code> de RStudio, donde una vez que lo tenemos en el espacio de trabajo, podemos cargar los datos en una variable usando la función <code>data.frame</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>datos<span class="ot">=</span><span class="fu">read.csv2</span>(<span class="st">"futbol.csv"</span>)</span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>datos</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   PRESUPUESTO VICTORIAS GOLES
1         34.6         8    34
2         37.1         7    34
3         37.6         9    46
4         41.0        11    36
5         42.0         9    36
6         42.7         6    29
7         46.6        11    37
8         49.4         5    34
9         52.6         9    28
10        56.5        13    47
11        62.5        14    55
12        71.3        17    50
13       100.9        17    59
14       103.4        10    50
15       119.8        NA    46
16       145.2        15    60
17       185.8        24    53
18          NA        26    67
19       382.7        24    85
20       468.5        25    67</code></pre>
</div>
</div>
<p>Podemos comprobar que hay dos valores NA, porque esas celdas en el archivo estaban vacías, por no disponer de esos datos.</p>
<p>Para evitar problemas de procesamiento, podemos eliminar las filas de esos equipos, con la función <code>na.omit</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>datos<span class="ot">=</span><span class="fu">na.omit</span>(datos)</span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>datos</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   PRESUPUESTO VICTORIAS GOLES
1         34.6         8    34
2         37.1         7    34
3         37.6         9    46
4         41.0        11    36
5         42.0         9    36
6         42.7         6    29
7         46.6        11    37
8         49.4         5    34
9         52.6         9    28
10        56.5        13    47
11        62.5        14    55
12        71.3        17    50
13       100.9        17    59
14       103.4        10    50
16       145.2        15    60
17       185.8        24    53
19       382.7        24    85
20       468.5        25    67</code></pre>
</div>
</div>
<p>Si queremos cargar en un vector el número de goles marcados por cada equipo, podemos hacerlo con:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>goles<span class="ot">=</span>datos<span class="sc">$</span>GOLES</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>goles</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 34 34 46 36 36 29 37 34 28 47 55 50 59 50 60 53 85 67</code></pre>
</div>
</div>
<p>Ahora podemos usar cualquiera de las funciones vistas en los apartados anteriores. Por ejemplo, podemos consultar el máximo número de goles marcados por un equipo, el mínimo, o sumar el total de goles marcados por todos los equipos.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(goles)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 85</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(goles)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(goles)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 840</code></pre>
</div>
</div>
<p>En las prácticas no vamos a generar archivos de datos, sólo procesar archivos ya existentes. No obstante, es algo sencillo que puede hacerse usando la función <code>write.csv2</code>.</p>
<p>Por ejemplo: supongamos que ha habido un error en los goles del equipo 10 y en lugar de 47 goles ha marcado 48.</p>
<p>Podemos modificar el <code>data.frame</code> así:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="dv">10</span>,<span class="dv">3</span>]<span class="ot">=</span><span class="dv">48</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>datos</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   PRESUPUESTO VICTORIAS GOLES
1         34.6         8    34
2         37.1         7    34
3         37.6         9    46
4         41.0        11    36
5         42.0         9    36
6         42.7         6    29
7         46.6        11    37
8         49.4         5    34
9         52.6         9    28
10        56.5        13    48
11        62.5        14    55
12        71.3        17    50
13       100.9        17    59
14       103.4        10    50
16       145.2        15    60
17       185.8        24    53
19       382.7        24    85
20       468.5        25    67</code></pre>
</div>
</div>
<p>Y volver a guardar en el archivo con:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv2</span>(datos,<span class="st">"futbolcambiado.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Podemos comprobar en la sección <code>Files</code> de RStudio que aparece el nuevo archivo de datos en la carpeta de trabajo.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image032.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Si alguna vez queremos cambiar el directorio o carpeta de trabajo, podemos hacerlo con la función <code>setwd</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Para ello, antes debemos crear la carpeta indicada en el ordenador, pues en otro caso avisará de que no existe.</p>
<p>También se puede cambiar el directorio de trabajo desde la sección <code>Session &gt; Set Working Directory</code> de RStudio.</p>
</section>
<section id="gráficos" class="level2">
<h2 class="anchored" data-anchor-id="gráficos">Gráficos</h2>
<p>Con R se pueden generar gráficos, que aparecen en la sección <code>Plots</code> de RStudio.</p>
<section id="función-plot" class="level3">
<h3 class="anchored" data-anchor-id="función-plot">Función <em>plot</em></h3>
<p>La función <code>plot(c(x1,x2,x3,..),c(y1,y,2,y3,..))</code> dibuja puntos en las coordenadas <code>(x1,y1), (x2,y2), (x3,y3), ..</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">0</span>), <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">7</span>,<span class="sc">-</span><span class="dv">3</span>,<span class="dv">0</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se pueden usar variables para las coordenadas y un parámetro <code>type</code> para indicar el aspecto del gráfico.</p>
<ul>
<li>Puntos (por defecto, si no se indica nada): <code>type=”p”</code></li>
<li>Puntos unidos por líneas: <code>type=”b”</code></li>
<li>Sólo líneas: <code>type=”l”</code></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>v1<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">0</span>)</span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>v2<span class="ot">=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">7</span>,<span class="sc">-</span><span class="dv">3</span>,<span class="dv">0</span>)</span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(v1,v2,<span class="at">type=</span><span class="st">"b"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (v1, v2, <span class="at">type=</span><span class="st">"l"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-48-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se pueden manejar otros aspectos del gráfico, con los siguientes parámetros, ver ayuda en RStudio con <code>help(”plot”)</code>:</p>
<ul>
<li>Título del diagrama: <code>main=”título”</code></li>
<li>Subtítulo del diagrama: <code>sub=”subtítulo”</code></li>
<li>Etiqueta para el eje x: <code>xlab=”etiqueta”</code></li>
<li>Etiqueta para el eje y: <code>ylab=”etiqueta”</code></li>
<li>Grosor de la línea: <code>lwd=”número”</code></li>
<li>Color de la línea: <code>col=”color”</code> (ej. “red”, “blue”, “green”, etc., lista completa en <a href="https://r-charts.com/es/colores/">enlace</a>)</li>
<li>Límites del eje x: <code>xlim=c(mínimo,máximo)</code></li>
<li>Límites del eje y: <code>xlim=c(mínimo,máximo)</code></li>
<li>Tipo de línea: <code>lty=0,1,2,3,4,5,6</code>
<ul>
<li>0=invisible</li>
<li>1=sólida</li>
<li>2=rayas</li>
<li>3=puntos</li>
<li>4=puntos y rayas</li>
<li>5= rayas largas</li>
<li>6=rayas cortas y largas</li>
</ul></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(v1,v2,<span class="at">type=</span><span class="st">"b"</span>, <span class="at">main=</span><span class="st">"Título del diagrama"</span>, <span class="at">sub=</span><span class="st">"Subtítulo del diagrama"</span>, <span class="at">xlab=</span><span class="st">"Etiqueta eje x"</span>, <span class="at">ylab=</span><span class="st">"etiqueta eje y"</span>, <span class="at">col=</span><span class="st">"red"</span>, <span class="at">lwd=</span><span class="st">"3"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(v1, v2, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>,<span class="dv">10</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">15</span>), <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-49-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se pueden dibujar funciones, si como segundo vector se pasa una función aplicada a los elementos del primer vector:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="dv">3</span><span class="sc">*</span>x<span class="sc">+</span><span class="dv">2</span>,<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Recta y=3x+2"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, x<span class="sc">^</span><span class="dv">2</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Parábola"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-50-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,<span class="fu">exp</span>(x),<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Función exponencial"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-50-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="función-curve" class="level3">
<h3 class="anchored" data-anchor-id="función-curve">Función <em>curve</em></h3>
<p>Se puede dibujar cualquier curva con la función <code>curve(función(x), from=valor mínimo de x, to=valor máximo de x)</code>.</p>
<p>Ejemplo:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(x<span class="sc">^</span><span class="dv">2</span>, <span class="at">from=</span><span class="sc">-</span><span class="dv">10</span>, <span class="at">to=</span><span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se puede crear previamente la función usando <code>function</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>mi.funcion <span class="ot">=</span> <span class="cf">function</span>(x){x<span class="sc">^</span><span class="dv">2</span>}</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(mi.funcion,<span class="at">from=</span><span class="sc">-</span><span class="dv">10</span>, <span class="at">to=</span><span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="múltiples-gráficos-función-par" class="level3">
<h3 class="anchored" data-anchor-id="múltiples-gráficos-función-par">Múltiples gráficos <em>(función par)</em></h3>
<p>La función <code>par(mfrow=c(filas,columnas)</code> divide la ventana <code>Plots</code> en filas y columnas, y los gráficos se dibujan según esa división.</p>
<p>Para volver a tener una ventana para un solo gráfico hay que ejecutar: <code>par(mfrow=c(1,1))</code>.</p>
<p>Ejemplo:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">10</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,<span class="dv">3</span><span class="sc">*</span>x<span class="sc">+</span><span class="dv">2</span>,<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Recta"</span>)</span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,x<span class="sc">^</span><span class="dv">2</span>,<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Parábola"</span>)</span>
<span id="cb203-5"><a href="#cb203-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,<span class="fu">exp</span>(x),<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Exponencial"</span>)</span>
<span id="cb203-6"><a href="#cb203-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,<span class="fu">log</span>(x),<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Logaritmo neperiano"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in log(x): NaNs produced</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,<span class="fu">abs</span>(x),<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Absoluto"</span>)</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,x<span class="sc">^</span><span class="dv">3</span>,<span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">"Función x^3"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>)) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="ejercicios-propuestos" class="level2">
<h2 class="anchored" data-anchor-id="ejercicios-propuestos">Ejercicios propuestos</h2>
<ol type="1">
<li>Resolver la ecuación de segundo grado <span class="math inline">\(3x^2+5x+1=0\)</span>, usando la fórmula: <span class="math inline">\(x = \frac{-5\pm\sqrt(5^2-4·3·1)}{2·3}\)</span>.</li>
<li>Crear la función triple(x) para obtener el valor del parámetro o argumento x multiplicado por 3. Usar esa función para calcular el triple de 100.</li>
<li>Crear un vector v1 con los datos 20, 21, 22, .., 30 y otro vector v2 con los datos 1, 2, 3, .., 11. Con estos vectores realizar las siguientes operaciones:
<ul>
<li><ol type="a">
<li>Obtener un vector v3 que sea la suma de v1 y v2.</li>
</ol></li>
<li><ol start="2" type="a">
<li>Obtener un vector v4 que en el que los elementos sean las raíces cuadradas de los elementos de v1.</li>
</ol></li>
<li><ol start="3" type="a">
<li>Obtener un vector v5 con en el que los elementos tengan un valor doble que el valor de los elementos de v1.</li>
</ol></li>
</ul></li>
<li>Leer el archivo futbol.csv, omitir los valores NA, y obtener en euros la suma de los presupuestos de todos los equipos. NOTA: El presupuesto en millones de euros de cada equipo está en la columna PRESUPUESTO del archivo.</li>
<li>Dividir la ventana <code>Plots</code> de RStudio en dos partes y dibujar los siguientes diagramas, uno junto a otro:
<ul>
<li>La recta y=-3x+50, en color azul, con el eje x desde 0 a 100, usando la función <code>plot()</code>.</li>
<li>La recta y=-3x+50, en color azul, con el eje x desde 0 a 100, usando la función <code>curve()</code>.</li>
</ul></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>